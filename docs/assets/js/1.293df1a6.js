(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{147:function(E,e){E.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAiIAAADaCAQAAAAx4+H8AAAAAmJLR0QA/4ePzL8AABS9SURBVHja7d15eFTV/cfxd0IICUlMJNCkrAYMsimGwaCAEooYaov5YX3UVgWLbVpF01q7+KOASou0/dm64UKqWKhbNeoTKIr0sWpREGUENIoCyiJgWITQxCyQZH5/zJ1hJplkZnKSuVk+L5/HTO7cuXPmO/d+5pwzN9wolwsRkRaLtrsBItKxKURExIhCRESMKERExIhCRESMKERExIhCRESMKERExIhCRESMKERExIhCRESMxARf5Sgr2MgeauxuaxDJDOCH5NjdDJEuJirYH+Ad5Eb2cxqxRNnd1iBcVHOc6cyjm91NEelCgvZEnuMLLmQ2mfSwu61B1LCVP7GSqxhmd1NEupCgcyLvEsfNjGr3EQI9yCYX2Gh3Q0S6lKAhspdoBtvdypANBUrtboRIl9LJvp05HThmdyNEupROFiIiEmkKERExohARESMKERExohARESMKERExohARESMKERExohARESMKERExohARESMKERExohARESMKERExohARESMKERExohARESMKERExohARESMKERExohARESMKEREx0iYhsp5l1AJQz1es47dst/t1ikgbCeGC3uF5gOUAPMQ0RvEAIxnP9WRQxs8oAVKZykzSAKhnA4+wjSSmcz2pgJN8fsOV1rZqKWQj95Nid5VEpEmtHiI/Jo3pxPIc49nK7eR570mmiAwq2cDtzGMILopYz90MoIY13MGd9AYGsp5ckgEopYQEuyskIs1q9eFMPGfyBu+TwqCA9/dkCvk8RiX7eYvbGUgUceThoBgXMJRU3gHAxVtM5HS7KyQizWrlnohn0ALwEBMpYiEAs5jps9YoijnIZwy2hjUQxViepBKIYSrFXEhPjrCF2Xxkd4VEpFmtHCIpLAd28TqzgWIWkEshM0mhzGet7sRQxtdEE+VdlkgVJwHIBErI5n0y6WN3fUQkiDaeWA0cAlVU0IsD1OPyxkgFyfQAIIEcXiGDtfzUJ2REpH1q9RCZTAKTWE060/kHqQHXKSGRNE6wkoOkA+BiE5nEW/c7eJmXSGEQlXbXR0SCaOWJ1So2kEc3khjBag7Rr9EalbzKMmYTRwYOFrMXF5UU4+RS7zq9mcDjTCHW7uqISFCt3BOJJx84SC1nU8GX9LJOOgM4zhVAKjO4h1Qghtm8xly2kcoM7vLrtYxnMyPtro2IhKDVhzPHuZVt/J5avuByYrwhkmLNlfg/eS65fkscOADoz2LrUYvsrpCINKvVQySZZdYt93mncRTY/RpFpA3pD/BExIhCRESMKERExIhCRESMKERExIhCRESMKERExIhCRESMKERExIhCRESMKERExIhCRESMKERExIhCRESMKERExIhCRESMKERExIhCRESMKERExIhCRESMKERExIhCRESMdLIQOQ4k290IkS4laIj0p569drcyZDuAvnY3QqRLCXrxqvPYwVJuoH+7vzJuBR+wFqxr6IWrnGfYxB6q7X4ZIRlMNje0+3fEl+rbeWsS5XI1/9B9zOEQafRo9yOfOso5Qi530D3sx5aTz3a7X0CYhvCc3U0ImerbWOepSdCeSH8e4imcfEGN3a8giNPoRwGTWxAh8DTbGc4tjCbO7pcRkq3czwc80GEuUar6duaaBO2JtJVJwJv2VsXHDWxhBSPtbkYYnBSQwZN2NyNEqm9jnacm7X2MEiE7oUO9nTCKGD63uxEhU30b6zw1UYh0UD2g3Q8wOzLVt7GmaqIQEREjChERMaIQEREjChERMaIQEREjChERMaIQEREjChERMaIQEREjChERMaIQEREjChERMaIQEREjChERMaIQEREjChERMaIQEREjChERMaIQEREjQS8Z0Vbaz7/0LiIm1BORdqgYp91NkJDZ1hPxtYvXmQ0sYzIZADzABL/LYdaxmmpm0J2T/AO4iu7ALm6m1G9LhU1eRLOUUvrShyjDth7gGS4nA/iMJ7mOwVZ7l/utNY357f6SRE7yAyx1V3AHL1FAHODiv+xkNRczPsj2auhu+JlUzMIASxeQZ92qo4ixDLG7cCGro75Fl1ILpJzn+QFxfjUqxNFozwOYRT6/Y02j5e69spa/km0dJyc5yEY+4eckGLTNhhA5degXhnjdXE+h/uhdci+zKAAmcqvPwVrczDbe5e90ZxiXMILTDFv+tHfJStJZQkaD11LGCuvnzygBUpnKTNIAqGcDj7CNJKZzPanWWn1YSE9vS2/jvhZeUTgcDu+nvZN93gP11KH8D0ZxLfPIZBx5jAi6vXfYz0BG0KvFLcrztqKY/gEq0I2+vMKNdLN+r7YOlSTG8yMrzl18zMNsIpoc5tDfWmsP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"},148:function(E,e,i){E.exports=i.p+"assets/img/1212.fa0a68eb.png"},149:function(E,e,i){E.exports=i.p+"assets/img/1213.4ee8867c.png"},150:function(E,e,i){E.exports=i.p+"assets/img/1214.6300b133.png"},151:function(E,e,i){E.exports=i.p+"assets/img/1215.7872fbeb.png"},159:function(E,e,i){"use strict";i.r(e);var a=[function(){var E=this,e=E.$createElement,a=E._self._c||e;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"dom-diff"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dom-diff","aria-hidden":"true"}},[E._v("#")]),E._v(" Dom Diff")]),E._v(" "),a("h3",{attrs:{id:"什么是虚拟dom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是虚拟dom","aria-hidden":"true"}},[E._v("#")]),E._v(" 什么是虚拟DOM")]),E._v(" "),a("p",[E._v("当我们更新了state中的值的时候，React会去调用render()方法来重新渲染整个组件，React实现了一个Virtual DOM，组件的真实DOM结构和Virtual DOM之间有一个映射的关系，React在虚拟DOM上实现了一个diff算法，当render()去重新渲染组件的时候，diff会找到需要变更的DOM，然后再把修改更新到浏览器上面的真实DOM上，所以，React并不是渲染了整个DOM树，Virtual DOM就是JS数据结构，所以比原生的DOM快得多。")]),E._v(" "),a("h3",{attrs:{id:"为什么要用虚拟dom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么要用虚拟dom","aria-hidden":"true"}},[E._v("#")]),E._v(" 为什么要用虚拟DOM")]),E._v(" "),a("p",[E._v("频繁操作DOM会造成页面卡顿影响用户体验"),a("br"),E._v("\n虚拟DOM比真实DOM要快很多"),a("br"),E._v("\n更新时，虚拟DOM不会直接更新，会和之前的进行比较，将不同的地方进行重新渲染，避免了无所谓的渲染")]),E._v(" "),a("h3",{attrs:{id:"虚拟dom的基本执行步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#虚拟dom的基本执行步骤","aria-hidden":"true"}},[E._v("#")]),E._v(" 虚拟DOM的基本执行步骤")]),E._v(" "),a("ul",[a("li",[E._v("1，用JS构建出一颗虚拟DOM树，再用虚拟的DOM树去构建出一个真实的DOM树，插入到文档中")]),E._v(" "),a("li",[E._v("2，当树的状态发生改变的时候，重新构建出一颗新的DOM，并将新的树和旧的树进行对比，并记录两棵树的差异")]),E._v(" "),a("li",[E._v("3，把不同的地方重新渲染，相同的地方不会重新渲染\n"),a("img",{attrs:{src:i(147),alt:"Alt text"}})])]),E._v(" "),a("h3",{attrs:{id:"diff算法解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#diff算法解析","aria-hidden":"true"}},[E._v("#")]),E._v(" DIFF算法解析")]),E._v(" "),a("p",[a("img",{attrs:{src:i(148),alt:"Alt text"}})]),E._v(" "),a("h3",{attrs:{id:"diff算法在执行时有三个维度"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#diff算法在执行时有三个维度","aria-hidden":"true"}},[E._v("#")]),E._v(" DIFF算法在执行时有三个维度")]),E._v(" "),a("h4",{attrs:{id:"tree-diff"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tree-diff","aria-hidden":"true"}},[E._v("#")]),E._v(" Tree DIFF")]),E._v(" "),a("p",[a("img",{attrs:{src:i(149),alt:"Alt text"}}),E._v("\nTree DIFF是对树的每一层进行遍历，如果某组件不存在了，则会直接销毁。如图所示，左边是旧属，右边是新属，第一层组件一模一样不会发生变化；第二层进入Component DIFF，组件类型相同然后继续比较下去，发现A组件没有，所以直接删掉A、B、C组件；最后重新创建A、B、C组件。")]),E._v(" "),a("h4",{attrs:{id:"component-diff"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#component-diff","aria-hidden":"true"}},[E._v("#")]),E._v(" Component DIFF")]),E._v(" "),a("p",[a("img",{attrs:{src:i(150),alt:"Alt text"}}),E._v("\nComponent DIFF是对树的每一层进行遍历如果组件不同，可以直接进行删除然后在替换\n第一层中的组件一样，不发生改变，进入第二层Component Diff，左侧组件一模一样，不发生改变，右侧组件不一样，对于不同的组件可以直接删除替换")]),E._v(" "),a("h4",{attrs:{id:"element-diff"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#element-diff","aria-hidden":"true"}},[E._v("#")]),E._v(" Element DIFF")]),E._v(" "),a("p",[a("img",{attrs:{src:i(151),alt:"Alt text"}}),E._v("\nElement DIFF紧接着以上统一类型组件继续比较下去，常见类型就是列表。同一个列表由旧变新有三种行为，插入、移动和删除，它的比较策略是对于每一个列表指定key，先将所有列表遍历一遍，确定要新增和删除的，再确定需要移动的。如图所示，第一步将D删掉，第二步增加E，再次执行时A和B只需要移动位置即可。")]),E._v(" "),a("p",[E._v("执行时按顺序依次执行，它们的差异仅仅因为DIFF粒度不同、执行先后顺序不同")]),E._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[E._v("var objA = {\n  el: 'div',\n  class: 'A',\n  children: [\n    {el: 'div',class: 'B',children: \n      [\n        {el: 'div',class: 'D'},\n        {el: 'div',class: 'E'}\n      ]\n    },\n    {el: 'div',class: 'C',children: \n      [ \n        {el: 'div',class: 'F',},\n        {el: 'div',class: 'G'}\n      ]\n    }\n  ]\n}\nvar objB = {\n  el: 'div',\n  class: 'A',\n  children: [\n    {el: 'div',class: 'C',children: [\n      {el: 'div',class: 'D'},\n      {el: 'div',class: 'G'}\n      ]\n    },\n    {\n      el: 'div',class: 'B',children: [\n        {el: 'div',class: 'E'},\n        {el: 'div',class: 'F'}]\n    }\n  ]\n}\nfunction difference(old,new) {\n  console.log()\n}\n")])])])])}],R=i(0),s=Object(R.a)({},function(){this.$createElement;this._self._c;return this._m(0)},a,!1,null,null,null);e.default=s.exports}}]);